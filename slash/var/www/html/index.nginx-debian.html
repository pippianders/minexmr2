<!DOCTYPE html>
<html lang="en-US">
<head>

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="icon" href="minexmr2-header3.svg" type="image/svg+xml"/>

<title>MINEXMR2: regular payouts from p2pool inside</title>
<!-- Begin formerly Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.8.7" />
<meta name="author" content="MINEXMR2: regular payouts from p2pool inside" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://minexmr2.com" />
<meta property="og:title" content="MINEXMR2: regular payouts from p2pool inside" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="First open-source Monero mining pool using decentralized p2pool as a hashrate-liquidity provider for frequent payouts" />
<meta property="og:description" content="First open-source Monero mining pool using decentralized p2pool as a hashrate-liquidity provider for frequent payouts" />
<link rel="canonical" href="https://minexmr2.com/" />
<meta property="og:url" content="https://minexmr2.com/" />
<meta property="og:site_name" content="MINEXMR2: regular payouts from p2pool inside" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:url" content="https://minexmr2.com" />
<meta property="twitter:title" content="MINEXMR2: regular payouts from p2pool inside" />
<meta property="twitter:description" content="First open-source Monero mining pool using decentralized p2pool as a hashrate-liquidity provider for frequent payouts" />
<script type="application/ld+json">
{"@type":"WebSite","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://minexmr2.com/minexmr2-header3.svg"}},"headline":"MINEXMR2: regular payouts from p2pool inside","url":"https://minexmr2.com/","description":"First open-source Monero mining pool using decentralized p2pool as a hashrate-liquidity provider for frequent payouts","name":"MINEXMR2: regular payouts from p2pool inside","@context":"https://schema.org"}
</script>

<style>
@font-face {
    font-family: 'IBMPlexSans';
    src: url('IBMPlexSans-Regular-Latin1.woff2');
    font-display: swap;
}

* {margin:0; padding:0;}

html, body {
  overflow-x: hidden;
}

body {
  position: relative;
}

body {
    font-family: 'IBMPlexSans', Helvetica, sans-serif;
    font-size: 1em;
}
header {
    font-size: larger;
    font-weight: normal;
    text-align: center;
}
table {
    padding-bottom: 1em;
}
td {
    vertical-align: top;
    white-space: nowrap;
}
td:last-child {
    white-space: unset;
}
.miner {
    display: none;
}
#address {
    min-width: 10ch;
    max-width: 10ch;
    overflow: hidden;
    border-bottom: 1px dashed var(--text-color);
    text-overflow: ellipsis;
    white-space: nowrap;
    word-wrap: unset;
}
#address:focus {
    outline: 0px solid transparent;
    text-overflow: initial;
    white-space: initial;
    word-wrap: break-word;
}

body {
    background-color: #ddd;
    color: #333;
}

h1.menu {
    background-color: #903;
    color: #fff;
    padding: 8px;
    font-size: 1.2em;
    margin-top: -4px;
box-shadow: rgba(0, 0, 0, 0.30) 0px 20px 10px -10px, rgba(0, 0, 0, 0.60) 0px 12px 5px -10px;
}

h2 {
    text-align: center;
    font-size: 1.75em;
    padding: 8px;
}

.special {
    padding-left: 50px; padding-right: 50px;
}

.font_menu {
    font-weight: normal;
}

h3 {
    text-align: center;
    padding: 8px;
    font-size: 1.5em;
}

h4 {
    text-align: center;
    padding: 8px;
    font-size: 1.0em;
}

h5 {
    text-align: center;
    padding: 8px;
    font-size: 0.9em;
}

img.inline_header {
    vertical-align: bottom;
    margin-bottom: -30px;
    height: 57px;
    width: auto;
}

img.inline_header2 {
    vertical-align: bottom;
    margin-bottom: -10px;
    height: 48px;
    width: auto;
}

.story p {
    padding: 8px;
    color: var(--text-th-color);
}

p.story_red {
    background-color: #903;
    color: #fff;
}

.story ul {
    color: var(--text-th-color);
}

table.stats {
    width: 100%;
}

table.stats th {
    text-align: right;
    width: 50%;
    font-weight: normal;
    color: var(--text-th-color);
}

table.stats td {
    text-align: left;
    font-weight: bold;
    color: var(--text-param-color);
}

.stats_style {
    font-weight: bold;
    color: var(--text-param-color);
}

a:link {
    color: var(--link-color);
}

a:visited {
    color: var(--link-color);
}

a:active {
    color: var(--link-color);
}

a:hover {
    color: var(--link-color-hover);
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

.center { text-align: center; }

.container {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  flex-wrap: wrap;
}

.episode2 {
  position: relative;
    width: 46.25%;
    margin-left: 2.5%;
    margin-top: 2.5%;
  border: 1px dotted var(--border-color);
  margin-bottom: 0;
box-shadow: rgba(0, 0, 0, 0.45) 0px 25px 20px -20px;
}

.episode1_top_shadow {
box-shadow: rgba(0, 0, 0, 0.45) 0px -25px 20px -20px !important;
}

.episode1_no_shadow {
box-shadow: none !important;
}

.episode2:nth-last-child(-n+2) {
    margin-bottom: 2.5%;
}

.episode1 {
  position: relative;
  border-top: 1px dotted var(--border-color);
  border-left: 1px dotted var(--border-color);
  border-right: 1px dotted var(--border-color);
    margin-left: 2.5%;
    margin-right: 2.5%;
box-shadow: rgba(0, 0, 0, 0.45) 0px 25px 20px -20px;
}

.episode1:last-child {
  border-bottom: 1px dotted var(--border-color);
}

.episode__number {
  font-size: 1em;
  text-align: center;
  height: calc(1em + 20px);
  padding: 8px;
}

.episode__content {

}

.episode__content .story {
  line-height: 1.5em;
}

.episode__content .story header {
    margin-top: 8px;
    padding-left: 8px;
    padding-right: 8px;
}

.footnote .episode__content .story {
    font-size: 12px;
  line-height: 14px;
}

.fullwidth {
    margin-left: 0;
    margin-right: 0;
}

.borderzero {
  border: 0px dotted #fff !important;
  background-image: none !important;
}

.important {
    background-color: #555;
    color: #eee;
}

.important2 {
    background-color: #fff;
    color: #000;
}

.important2grad {
    background: linear-gradient(90deg, rgba(204,204,204,1) 0%, rgba(255,255,255,1) 50%, rgba(204,204,204,1) 100%);
}

.important3 {
    background-color: #ccc;
    color: #000;
}

.container_margin_footnote {
margin-top: 40px;
}

.container_margin_donate {
margin-top: 40px;
}

.episode__content .story p {
    font-size: 0.9em;
    line-height: 1.4em;
}

.episode__content .story p:first-of-type {
margin-top: 20px;
}

.episode__content .story ul {
    font-size: 0.9em;
    line-height: 1.4em;
margin-left: 32px;
}

.footnote .episode__content .story p:first-of-type {
margin-top: 0px;
}



/*** Light Mode Theme ***/
[data-theme="default"] {
  --body-bg-color: #ccc;
  --card-bg-color: #eee;
  --card-fn-bg-color: #ddf;
  --border-color: #888;
  --text-color: #333;
  --text-param-color: #54a;
  --text-th-color: #555;
  --switch-on-color: #888;
  --switch-off-color: #ccc;
  --toggler-color: #fff;
  --link-color: #36a;
  --link-color-hover: #39f;
  --slider2-color: #fff;
}
/* Dark Mode Theme */
[data-theme="dark"] {
  --body-bg-color: #444;
  --card-bg-color: #555;
  --card-fn-bg-color: #446;
  --border-color: #999;
  --text-color: #fff;
  --text-param-color: #baf;
  --text-th-color: #ddd;
  --toggler-color: #ccc;
  --switch-on-color: #fff;
  --switch-off-color: #444;
  --link-color: #39d;
  --link-color-hover: #3cf;
  --slider2-color: #ccc;
}

.container {
  color: var(--text-color);
  background-color: var(--body-bg-color);
  transition: color .45s ease-in, background-color .45s ease-in;
}

.inner_wrapper {
  position: relative;
    width: 100%;
}

.inner_wrapper2 {
  position: relative;
    width: 100%;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  flex-wrap: wrap;
}

/*** Card ***/
.card {
  color: var(--text-color);
  background-color: var(--card-bg-color);
  transition: color .45s ease-in,
              background-color .45s ease-in;
}

.card_footnote {
  color: var(--text-color);
  background-color: var(--card-fn-bg-color);
  transition: color .45s ease-in,
              background-color .45s ease-in;
}

/* The switch - the box around the slider */
.switch {
  position: relative;
  display: inline-block;
  width: 24px;
  height: 10px;
  float: right;
}
/* Hide default HTML checkbox */
.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}
/* The slider */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--switch-off-color);
  -webkit-transition: .4s;
  transition: .4s;
  font-size: 8px;
}
.slider:before {
  position: absolute;
  content: "";
  height: 8px;
  width: 8px;
  left: 2px;
  bottom: 1px;
  background-color: var(--toggler-color);
  -webkit-transition: .4s;
  transition: .4s;
}
input:checked + .slider {
  background-color: var(--switch-on-color);
}
input:focus + .slider {
  box-shadow: 0 0 1px var(--switch-on-color);
}
input:checked + .slider:before {
  -webkit-transform: translateX(11px);
  -ms-transform: translateX(11px);
  transform: translateX(11px);
}
/* Rounded sliders */
.slider.round {
  border-radius: 10px;
}
.slider.round:before {
  border-radius: 50%;
}
.slider2 {
  position: absolute;
  cursor: pointer;
  top: 12px;
  left: 0px;
  right: 0;
  bottom: 0;
  font-size: 8px;
  color: var(--slider2-color);
  transition: color .45s ease-in;
  text-align: center;
}



@media only screen and (min-width: 768px) and (max-width: 1280px) {

.container_margin_footnote {
margin-top: 30px;
}

.container_margin_donate {
margin-top: 30px;
}

}


@media only screen and (max-device-width: 767px) and (orientation: landscape) {

.episode1 .episode__content .story p {
    font-size: 10px;
  line-height: 12px;
}

.episode1 .episode__content .story ul {
    font-size: 10px;
  line-height: 12px;

}

.episode2 .episode__content .story p {
    font-size: 1em;
    line-height: 1.5em;
}

.episode2 .episode__content .story ul {
    font-size: 1em;
    line-height: 1.5em;

}

.footnote .episode__content .story p {
    font-size: 8px;
  line-height: 10px;
}

.footnote .episode__content .story ul {
    font-size: 8px;
  line-height: 10px;
}

.container_margin_footnote {
margin-top: 26px;
}

.container_margin_donate {
margin-top: 26px;
}

}


@media only screen and (max-width: 767px) {

h1.menu {
    font-size: 11px;
    padding: 8px;
    box-shadow: rgba(0, 0, 0, 0.50) 0px 12px 12px -5px, rgba(0, 0, 0, 0.50) 0px 7px 5px -5px;
    line-height: 6px;
}

img.inline_header {
    margin-bottom: -20px;
    height: 30px;
}

.slider {
  top: -2px;
  bottom: 2px;
}

.slider2 {
  top: 10px;
}

.special {
    padding-left: 20px; padding-right: 20px;
}

.episode2 {
    width: 100%;
    margin-right: 2.5%;
}

.episode2:last-child {
    margin-top: 0;
    margin-bottom: 2.5%;
}

.episode__content {

}

.episode__content .story {

}

.episode__number {

}

.container_margin {
margin-top: 16px;
}

.container_margin_footnote {
margin-top: 28px;
}

.container_margin_donate {
margin-top: 28px;
}

.episode__content .story p {
    font-size: 1em;
    line-height: 1.5em;
}

.episode__content .story ul {
    font-size: 1em;
    line-height: 1.5em;

}
</style>

<script src="plotly-finance-2.17.1.min.js"></script>

</head>

<body onresize="myFunction()">



<div class="container" data-theme="dark">
<div class="inner_wrapper">


<h1 class="menu font_menu"><img src="minexmr2-header.svg" class="inline_header" alt="MINEXMR2 Monero mining pool header icon"/><span>MINEXMR2: regular payouts from p2pool inside</span>
      <label class="switch">
        <input id="toggler" type="checkbox"/>
        <span class="slider round"></span>
        <div class="slider2">NIGHT</div>
      </label>
</h1>

<div style="margin-top: 20px; margin-bottom: 20px;">
<h2 class="font_menu special"><img src="minexmr2-header3.svg" class="inline_header2" alt="MINEXMR2 Monero mining pool header icon 2"/><span>MINEXMR2</span></h2>
<h3 class="font_menu special">First open-source Monero mining pool using decentralized p2pool as a hashrate-liquidity provider for frequent payouts<br/>(approx. <span class="stats_style" id="payout_freq">0 times/hour</span>)</h3>
<h4 class="font_menu special">Established 2022-09-15 UTC&nbsp;10:00</h4>
<h5 class="font_menu special">The name MINEXMR2 is inspired by departed old-school MINEXMR pool and conceptual decentralized p2pool. In no way this pool is related to original MINEXMR</h5>
</div>


</div>
</div>

<div class="container" data-theme="dark">
<div class="inner_wrapper">
  <article class="episode1 episode1_top_shadow card">
    <div class="episode__number"><small><small><small>(Statistics API url (JSON-RPC): <b>https://minexmr2.com/stats</b>)</small></small></small></div>
    <div class="episode__content">
      <div class="story">
        <header>Pool Statistics</header>
        <table class="stats">
            <tr><th>Hashrate:</th><td id="pool_hashrate">service unavailable</td></tr>
            <tr style="display: none;"><th>Round hashrate:</th><td id="round_hashrate"></td></tr>
            <tr style="display: none;"><th>Round hashes:</th><td id="round_hashes"></td></tr>
            <tr><th>Payment threshold:</th><td id="payment_threshold"></td></tr>
            <tr><th>Pool fee:</th><td id="pool_fee"></td></tr>
            <tr style="display: none;"><th>Pool port:</th><td id="pool_port"></td></tr>
            <tr style="display: none;"><th>Pool SSL port:</th><td id="pool_ssl_port"></td></tr>
            <tr style="display: none;"><th>Allow self-select:</th><td id="allow_self_select"></td></tr>
            <tr><th>Miners connected:</th><td id="connected_miners"></td></tr>
        </table>
      </div>
    </div>
  </article>
  <article class="episode1 card">
    <div class="episode__number"><small><small><small>(Statistics API url (JSON-RPC): <b>https://minexmr2.com/stats</b>)</small></small></small></div>
    <div class="episode__content">
      <div class="story">
        <header>Miner Statistics</header>
        <table class="stats">
            <tr class="miner"><th>Your hashrate:</th><td id="miner_hashrate"></td></tr>
            <tr class="miner"><th>Mean hashrate 24h:</th><td id="miner_hashrate_24h"></td></tr>
            <tr class="miner"><td colspan="2"><div id="miner_plot" style="width:100%;"></div></td></tr>
            <tr class="miner"><th>Pending balance:</th><td id="miner_balance"></td></tr>
            <tr class="miner"><th>Last payout:</th><td id="miner_lp"></td></tr>
            <tr><th>Miner address:</th><td id="address" contenteditable="true"></td></tr>
        </table>
      </div>
    </div>
  </article>
  <article class="episode1 card">
    <div class="episode__number"><small><small><small>(Statistics API url (JSON-RPC): <b>https://minexmr2.com/stats</b>)</small></small></small></div>
    <div class="episode__content">
      <div class="story">
        <header>P2pool Statistics<br/><sup><small><small>(Since 2023-01-09 UTC&nbsp;17:50 p2pool&nbsp;v2.7-jan-9)</small></small></sup></header>
        <table class="stats">
            <tr><th>Hashrate:</th><td id="p2pool_hashrate">service unavailable</td></tr>
            <tr><th>Local hashrate:</th><td id="p2pool_hashrate_local"></td></tr>
            <tr><th>Blocks found:</th><td id="pool_blocks_found"></td></tr>
            <tr><th>Last block found:</th><td id="last_block_found"></td></tr>
            <tr><th>Last block height:</th><td id="last_block_found_height"></td></tr>
        </table>
      </div>
    </div>
  </article>
  <article class="episode1 card">
    <div class="episode__number"><small><small><small>(Statistics API url (JSON-RPC): <b>https://minexmr2.com/stats</b>)</small></small></small></div>
    <div class="episode__content">
      <div class="story">
        <header>Network Statistics</header>
        <table class="stats">
            <tr><th>Hashrate:</th><td id="network_hashrate">service unavailable</td></tr>
            <tr><th>Last block found:</th><td id="last_template_fetched"></td></tr>
            <tr><th>Last block height:</th><td id="network_height"></td></tr>
        </table>
      </div>
    </div>
  </article>
</div>
</div>

<div class="container" data-theme="dark">
<div class="inner_wrapper">
<div class="container_margin"></div>
</div>
</div>

<div class="container" data-theme="dark">
<div class="inner_wrapper2">
  <article class="episode2 card">
    <div class="episode__number">Killer Feature 1</div>
    <div class="episode__content">
      <div class="story">
        <header>Stratum pool domain: <b>minexmr2.com</b>.<br/>Pool port: <b>4444</b>.<br/>TLS pool port: <b>8443</b></header>
        <p>
            ...And your valid Monero address (4... or 8...).
            That's all you need to start mining. No registration, no cookies, no personal data collection.
            Your account will be created automatically on first share accepted. You receive payments each time your pending balance grows above 0.01XMR.
            You can use any Monero miner.
        </p><p>
            Currently <a href="https://github.com/xmrig/xmrig" target="_blank">xmrig</a> is the only tested, both NoTLS and TLS connection modes.
            Here are ready to use xmrig config files. Just place one of it
            in the same directory with xmrig executable and run it. <b>Do not forget to replace XMR address in
            <a href="xmrig-notls/config.json" target="_blank">config-notls</a> or <a href="xmrig-tls/config.json" target="_blank">config-tls</a>.
            to your one</b>. Or, if you just want to donate, don't change anything.
        </p>
        <p class="story_red">
            Support email if something goes wrong (especially with automatic payouts): <b>minexmr2@tutanota.com</b>.
        </p>
      </div>
    </div>
  </article>
  <article class="episode2 card">
    <div class="episode__number">Killer Feature 2</div>
    <div class="episode__content">
      <div class="story">
        <header>Effective hashrate provided by decentralized p2pool makes your payouts regular</header>
        <p>
            No more tears about pool's hashrate and how often new block is being found. Payments from
            <a href="https://github.com/SChernykh/p2pool" target="_blank">p2pool</a>
            inside are being received on every block found by
            p2pool
            with its current hashrate.
            All the billing is accurately performed by MINEXMR2 pool based on PPLNS concept,
            thus your pending balance is being updated on every block found by p2pool too.
            Each time it reaches 0.01XMR, automatic payout to you will be performed.
        </p><p>
            Consider, for example, typical p2pool's hashrate is 145Mh/s, network hashrate is 2.67GH/s,
            average number of blocks found by p2pool is 1.62&nbsp;blocks&nbsp;per&nbsp;hour.
            Thus, you will receive your pending balance updates nearly 1.62&nbsp;times&nbsp;per&nbsp;hour, amounts are proportional to your miner's hashrate (PPLNS).
            Because each time your balance reaches 0.01XMR you receive the payment, if your own hashrate is great enough,
            you can receive payouts as often as approx. 1.62&nbsp;times&nbsp;per&nbsp;hour.
        </p>
      </div>
    </div>
  </article>
  <article class="episode2 card">
    <div class="episode__number">Killer Feature 3</div>
    <div class="episode__content">
      <div class="story">
        <header>No more dust payments like 0.0003XMR from p2pool and hence huge spending fees</header>
        <p>
            Main problem of decentralized p2pool is its reward algorithm generating enormous amount of dust payments for not strong-enough miners.
            If they try to spend p2pool rewards, transaction generation takes a lot of time and can fail due to 198-inputs limit.
            Furthermore, even if transaction is generated successfully, a HUGE fee is subtracted from a miner's wallet balance.
        </p>
        <p>
            MINEXMR2 accumulates all the dust payments from p2pool for you, and sends you 0.01XMR chunks, allowing to easily spend your balance.
            Meanwhile you get legendary Monero ultra-tiny fees like 0.00005XMR.
        </p>
        <p>
            We hope 0.01XMR is useful for most users. First, 0.01XMR payouts are being sent often enough, and you can't lose more than 0.01XMR in a worst case.
            If something goes wrong, please immediately email to <b>minexmr2@tutanota.com</b> for manual payouts to you.
        </p>
      </div>
    </div>
  </article>
  <article class="episode2 card">
    <div class="episode__number">Killer Feature 4</div>
    <div class="episode__content">
      <div class="story">
        <header>MINEXMR2 is an open-source mining pool written in C programming language under GPLv3 license</header>
        <p>
            Pool implementation in C is forked from
            <a href="https://github.com/jtgrassie/monero-pool" target="blank">jtgrassie's&nbsp;monero-pool</a>
            and based on libevent and lmdb.
            Just nearly 10% of code is added/rewritten, because jtgrassie's&nbsp;monero-pool offers a robust base to develop MINEXMR2 pool as a proxy to decentralized p2pool.
            MINEXMR2 is ultra-fast, fault-tolerant and can be up-scaled on many servers using haproxy requests scheduling.
        </p><p>
            You may start your own pool, with your additional services like miner statistics graphics, automatic payments on miner's demand, etc.
            We can help you with configuration, deployment and fine-tuning. Let's empower decentralized p2pool much more together! Feel free to write email to minexmr2@tutanota.com.
        </p>
        <p>
            If you found a bug or have a proposal, you can create a
            <a href="https://github.com/minexmr2/minexmr2" target="_blank">GitHub</a>/
            <a href="https://gitlab.com/minexmr/minexmr2" target="_blank">GitLab</a> issue.
            <b>We plan to add miner's hashrate charts, payment history list and many other useful features</b>.
        </p>
      </div>
    </div>
  </article>
</div>
</div>

<div class="container" data-theme="dark">
<div class="inner_wrapper">
  <article class="episode1 card">
    <div class="episode__number">Useful Resources</div>
    <div class="episode__content">
      <div class="story">
        <header>Some Monero-related 3rd party resources we found useful</header>
        <p>
            Other Monero mining pools based on p2pool inside:
            <ul>
            <li><a href="https://pool.aterx.com" target="_blank">pool.aterx.com</a>, typical hashrate 800KH/s, uses p2pool mini, payment threshold 0.005XMR, payouts every Sunday</li>
            <li><a href="https://www.minerno.de" target="_blank">www.minerno.de</a>, typical hashrate 40KH/s, uses p2pool mini, payment threshold 0.0004XMR, payouts on demand, 0% fees, <a href="https://minerno.de/api/stats/" target="_blank">stats API here</a>.</li>
            </ul>
        </p>
        <p>
            Monero exchanges without <a href="https://en.wikipedia.org/wiki/Know_your_customer" target="_blank">KYC/AML</a>:
            <ul>
            <li><a href="https://kycnot.me" target="_blank">kycnot.me</a>, a most comprehensive one-love list of CEXes and DEXes that don't require KYC/AML.</li>
            </ul>
        </p>
        <p>
            Current Monero price averaged from all the exchanges:
            <ul>
            <li><a href="https://coinmarketcap.com/currencies/monero/" target="_blank">coinmarketcap.com</a>, a well known leader accumulating various info on cryptocurrencies.</li>
            </ul>
        </p>
        <p>
            Instant anonymous service that finds the best Monero price and performs the exchange process automatically:
            <ul>
            <li><a href="https://trocador.app/?ref=LzaQuZ7Fy0" target="_blank">trocador.app</a>, a modern way to exchange your crypto at best price;
            their site even doesn't use Javascript.</li>
            </ul>
        </p>
      </div>
    </div>
  </article>
</div>
</div>

<div class="container" data-theme="dark">
<div class="inner_wrapper">
<div class="container_margin_donate"></div>
</div>
</div>

<div class="container" data-theme="dark">
<div class="inner_wrapper">
  <article class="episode1 episode1_no_shadow card">
    <div class="episode__number">Please Donate!</div>
    <div class="episode__content">
      <div class="story">
        <header>Your donations are ultimately welcome</header>
        <p>
            If you find MINEXMR2 as a good project to support decentralized p2pool hashrate,
            please donate XMR or BTC to further development.
            Our goal is to bring all the p2pool decentralized capabilities to every miner,
            without time/resource costs to deploy, upgrade, maintain the p2pool instance by himself.
        </p>
        <p style="word-break: break-all;">
            Donate XMR: <b>4AoKL73JHbJWSws7exQyxMYwgEvqkrpxX6hiLwLA8YXyESLHVCk7r9djR8fmeaDMSABCryvu1PjUGDYmQnkBNHum9NhDpbW</b>
            <br/><br/>Donate BTC: <b>bc1qmg0jc8lnsqx82096cknfn9a8q6e723gm3kw23t</b>
        </p>
      </div>
    </div>
  </article>
</div>
</div>

<div class="container" data-theme="dark">
<div class="inner_wrapper">
<div class="container_margin_footnote"></div>
</div>
</div>

<div class="container episode1_top_shadow" data-theme="dark">
<div class="inner_wrapper">
  <article class="episode1 footnote fullwidth borderzero important2 card_footnote">
    <div class="episode__content">
      <div class="story">
        <p>
        MINEXMR2 pool is ready to Monero upcoming network upgrade (fork) near
        <a href="https://xmr.noctism.com" target="_blank">Aug&nbsp;12&nbsp;2022</a>.
        Note: mining software will not be affected.
        <b>Update: hard-fork has been done successfully</b>.
        </p>
      </div>
    </div>
  </article>
  <article class="episode1 footnote fullwidth borderzero important3 card_footnote">
    <div class="episode__content">
      <div class="story">
        <p>Pool and site implementation of minexmr2.com is open&nbsp;source and mirrored on both
        <a href="https://github.com/minexmr2/minexmr2" target="_blank">GitHub</a>,
        <a href="https://gitlab.com/minexmr/minexmr2" target="_blank">GitLab</a>. It is built against Monero
        <a href="https://github.com/monero-project/monero/releases/tag/v0.18.1.2" target="_blank">Fluorine Fermi, Point Release&nbsp;1.2</a> and custom-patched
        <a href="https://github.com/SChernykh/p2pool/commit/ccc5117172706c3edbb04152d9c694028b232625" target="_blank">p2pool&nbsp;v2.7-jan-9</a>.
        </p>
      </div>
    </div>
  </article>
  <article class="episode1 footnote fullwidth borderzero important card_footnote">
    <div class="episode__content">
      <div class="story">
        <p class="story_red">
        Support email if something goes wrong (especially with automatic payouts): <b>minexmr2@tutanota.com</b>.
        </p>
      </div>
    </div>
  </article>
</div>
</div>

<script>
var now = 1673969446;
var tmpNow0 = now;
var tmpNow1 = now+100;
var tmpNow2 = now+200;

function padTo2Digits(num) {
  return num.toString().padStart(2, '0');
}

function formatDate(t) {
  var d = new Date(t*1000);
  return (
    [
      d.getUTCFullYear(),
      padTo2Digits(d.getUTCMonth() + 1),
      padTo2Digits(d.getUTCDate()),
    ].join('-') +
    ' ' +
    [
      padTo2Digits(d.getUTCHours()),
      padTo2Digits(d.getUTCMinutes()),
      padTo2Digits(d.getUTCSeconds()),
    ].join(':')
  );
}

var trace1 = {
    x: [tmpNow0, tmpNow1, tmpNow2].map(formatDate),
    y: [100, 300, 600],
    type: 'scatter',
    mode: 'lines',
    line: {color: '#baf'}
};

var data = [trace1];

var plot_w = window.innerWidth * 0.935;
var plot_h = 300;

var layout = {
    title: "Miner's last 24h hashrate chart",
    showlegend: false,
    font: {size: 10, color: '#ddd'},
  xaxis: {
    title: 'Time (UTC)',
    showgrid: true,
    gridcolor: '#555'
    },
  yaxis: {
    title: 'Hashrate',
    showgrid: true,
    gridcolor: '#555'
    },
  autosize: true,
  margin: {
    l: 46,
    r: 6,
    b: 40,
    t: 36,
    pad: 0
  },
  plot_bgcolor:"#444",
  paper_bgcolor:"#444",
  width: plot_w,
  height: plot_h
};

var config = {locale: 'us', responsive: true, staticPlot: true};
//console.log(data[0].x);
//console.log(data[0].y);
Plotly.react('miner_plot', data, layout, config);
Plotly.Plots.resize('miner_plot');

function myFunction() {
//console.log("myFunction");
    plot_w = window.innerWidth * 0.935;
    layout.width = plot_w;
    Plotly.react('miner_plot', data, layout, config);
    Plotly.Plots.resize('miner_plot');
}

// On toggler clicked

document.getElementById('toggler').addEventListener('change', (event) => {
  //console.log(toggler)
  var containers = document.getElementsByClassName('container');
  for (var i = 0; i < containers.length; ++i) {
    var container = containers[i];
    container.removeAttribute('data-theme');
    event.target.checked ? container.setAttribute('data-theme', 'default') : container.setAttribute('data-theme', 'dark');
  }
  var slider2 = document.getElementsByClassName('slider2')[0];
  slider2.innerHTML = event.target.checked ? "DAY" : "NIGHT";

  if (event.target.checked) {
    layout.plot_bgcolor = "#fff";
    layout.paper_bgcolor = "#fff";
    layout.font.color = "#555";
    layout.xaxis.gridcolor = "#ddd";
    layout.yaxis.gridcolor = "#ddd";
    data[0].line.color = "#54a";
    Plotly.react('miner_plot', data, layout, config);
  }
  else {
    layout.plot_bgcolor = "#444";
    layout.paper_bgcolor = "#444";
    layout.font.color = "#ddd";
    layout.xaxis.gridcolor = "#555";
    layout.yaxis.gridcolor = "#555";
    data[0].line.color = "#baf";
    Plotly.react('miner_plot', data, layout, config);
  }
});

// Format AJAX data

    function format_last_time(last)
    {
        var now = new Date().getTime() / 1000;
        var diff = now - last;
        var v;
        if (last == 0)
            return "None yet";
        else if (diff <= 0)
            return "Just now";
        else if (diff < 60)
        {
            v = parseInt(diff);
            return v + " second" + (v != 1 ? "s" : "") + " ago";
        }
        else if (diff < 3600)
        {
            v = parseInt(diff/60);
            return v + " minute" + (v != 1 ? "s" : "") + " ago";
        }
        else if (diff < 86400)
        {
            v = parseInt(diff/3600);
            return v + " hour" + (v != 1 ? "s" : "") + " ago";
        }
        else
        {
            v = parseInt(diff/86400);
            return v + " day" + (v != 1 ? "s" : "") + " ago";
        }
    }

    function max_precision(n, p)
    {
        return parseFloat(parseFloat(n).toFixed(p));
    }

    function format_hashes(h)
    {
        if (h < 1e-12)
            return "0 H";
        else if (h < 1e-9)
            return max_precision(h*1e+12, 0) + " pH";
        else if (h < 1e-6)
            return max_precision(h*1e+9, 0) + " nH";
        else if (h < 1e-3)
            return max_precision(h*1e+6, 0) + " μH";
        else if (h < 1)
            return max_precision(h*1e+3, 0) + " mH";
        else if (h < 1e+3)
            return parseInt(h) + " H";
        else if (h < 1e+6)
            return max_precision(h*1e-3, 2) + " KH";
        else if (h < 1e+9)
            return max_precision(h*1e-6, 2) + " MH";
        else
            return max_precision(h*1e-9, 2) + " GH";
    }

    function format_hashrate(h)
    {
        return format_hashes(h) + "/s";
    }

    function format_round_hashrate(round_hashes, last_block_found)
    {
        var now = new Date().getTime() / 1000;
        var diff = now - last_block_found;
        if (last_block_found == 0)
            return 0;
        if (diff <= 0)
            return 0;
        return format_hashrate(round_hashes / diff);
    }

    var wf = document.querySelector("#address");
    var xhr = new XMLHttpRequest();
    xhr.withCredentials = true;
    var rhr = document.querySelector("#round_hashrate");

    xhr.onload = function()
    {
if (xhr.readyState === xhr.DONE) {
if (xhr.status === 200) {
//console.log(document.cookie);
//console.log("xhr.responseText = " + xhr.responseText);
        var stats = JSON.parse(xhr.responseText);
        for (var e in stats)
        {
            var el = document.querySelector("#"+e);
            if (!el)
                continue;
            if ((/^last/.test(e)) && (e!=='last_block_found_height'))
                el.innerHTML = format_last_time(stats[e]);
            else if (/hashrate/.test(e))
                el.innerHTML = format_hashrate(stats[e]);
            else if (e == "pool_fee")
                el.innerHTML = (stats[e]*100) + "%";
            else if (e == "allow_self_select")
                el.innerHTML = stats[e] == 1 ? "Yes" : "No";
            else if (e == "round_hashes")
            {
                el.innerHTML = max_precision(stats[e]*100 /
                    stats["network_difficulty"], 1) + "%" +
                    " (" + format_hashes(stats[e]) + " / " +
                    format_hashes(stats["network_difficulty"]) + ")";
                rhr.innerHTML = format_round_hashrate(
                    stats["round_hashes"], stats["last_block_found"]);
            }
            else if (e == "pool_ssl_port")
            {
                el.closest("tr").style = "display: " +
                    (stats[e] == 0 ? "none;" : "table-row;");
                el.innerHTML = stats[e];
            }
            else if ((e == "payment_threshold") || (e == "miner_balance"))
            {
                el.innerHTML = stats[e] + " XMR";
            }
            else
                el.innerHTML = stats[e];
        }

        var nh = stats["network_hashrate"];
        var p2phr = stats["p2pool_hashrate"];

        var elPayoutFreq = document.querySelector("#"+"payout_freq");
        elPayoutFreq.innerHTML = (30 * (p2phr / nh)).toFixed(1) + " times/hour";

        var mlpval = stats["miner_last_payout"];
        var mlpts = stats["miner_last_payout_ts"];

        var elMinerLastPayout = document.querySelector("#"+"miner_lp");
        elMinerLastPayout.innerHTML = mlpval + " XMR @ " + format_last_time(mlpts);

        var mhmean24h = stats["miner_hashrate_mean24h"];

        var elMinerHRMean24h = document.querySelector("#"+"miner_hashrate_24h");
        elMinerHRMean24h.innerHTML = format_hashrate(mhmean24h);

        data[0].x = stats["miner_chart_x"].map(formatDate);
        data[0].y = stats["miner_chart_y"];
        Plotly.react('miner_plot', data, layout, config);
}}    };

    wf.onblur = function(e)
    {
        var d = new Date();
        d.setTime(d.getTime() + (86400 * 365 * 1000));
        document.cookie = "wa=" + this.innerText +
            ";expires=" + d.toGMTString();
        window.location.reload();
        return false;
    };

    window.onload = function()
    {
        var jar = {};
        for (var kv, i=0, kvs=document.cookie.split(/\s*;\s*/); i<kvs.length; i++)
        {
            kv = kvs[i].split(/\s*=\s*/);
            if (kv.length > 1)
            {
                try {
                    jar[kv[0]] = kv[1];
                } catch (e) {}
            }
        }
        if (jar.wa &&
            /^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/.test(jar.wa))
        {
            var m = document.querySelectorAll(".miner");
            for (var i=0; i<m.length; i++)
            {
                m[i].style = "display: table-row;";
            }
            wf.innerText = jar.wa;
        }
        var get_stats = function()
        {
            xhr.open("GET", "/stats", true);
            //xhr.setRequestHeader("Referrer-Policy", "unsafe-url");
            xhr.send(null);
        };
        setInterval(get_stats, 30000);
        get_stats();
    };
</script>
</body>
</html>
